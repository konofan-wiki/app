(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{857478:function(t,n,e){"use strict";e.r(n),e.d(n,{__N_SSG:function(){return _}});var r=e(785893),a=e(887757),u=e.n(a),o=e(692137),i=e(896156),c=e(418463),f=e(409669),s=e.n(f),l=e(189523),d=e(667294),p=e(388767),v=e(885515),g=e(492481);e(504028);function h(t,n){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"===typeof t)return b(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return b(t,n)}(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,o=!0,i=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return o=t.done,t},e:function(t){i=!0,u=t},f:function(){try{o||null==e.return||e.return()}finally{if(i)throw u}}}}function b(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function y(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function m(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?y(Object(e),!0).forEach((function(n){(0,i.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):y(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var _=!0;n.default=function(t){var n=g.Z.useContainer(),e=n.included,a=n.excluded,f=(0,d.useState)(""),h=f[0],b=f[1],y=(0,d.useState)({arena_id:null,date:null,dateList:[],arena_ids:[],group:null}),_=y[0],j=y[1];(0,d.useEffect)((function(){"jp"===t.lang&&s().get("https://raw.githubusercontent.com/thainq3127/kono-data/master/ranking/metadata.json").then((function(t){var n=t.data;j(m(m({},_),{},{arena_ids:n.arena_ids,arena_id:n.arena_ids[n.arena_ids.length-1]}))}))}),[]),(0,d.useEffect)((function(){"jp"===t.lang&&_.arena_id&&s().get("https://raw.githubusercontent.com/thainq3127/kono-data/master/ranking/".concat(_.arena_id,"/metadata.json")).then((function(t){var n=t.data;j(m(m({},_),{},{dateList:n.fileList,date:n.fileList[n.fileList.length-1]}))}))}),[_.arena_id]);var S=(0,p.useQuery)("arenalist",(0,o.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("tw"!==t.lang){n.next=2;break}return n.abrupt("return",[]);case 2:return n.prev=2,n.next=5,s().get("https://raw.githubusercontent.com/thainq3127/kono-data/master/ranking/".concat(_.arena_id,"/").concat(_.date,"-parsed.json"));case 5:return n.abrupt("return",n.sent.data);case 8:return n.prev=8,n.t0=n.catch(2),n.abrupt("return",[]);case 11:case"end":return n.stop()}}),n,null,[[2,8]])})))),k=S.data,E=S.refetch;(0,d.useEffect)((function(){_.arena_id&&_.date&&E()}),[_.date]);var P=k?""===h?k:k.filter((function(t){return t.name.toLowerCase().includes(h.toLowerCase())})):[];P=w(P,e),P=O(P,a),"FORMATION"===_.group&&(P=(0,l.$U)(P));var x=(0,d.useMemo)((function(){return(0,r.jsx)(l.LR,{onFilter:function(t){return b(t.target.value)},filterText:h,option:_,onSetOption:function(t){var n=t.target.name,e=t.target.value;j(m(m({},_),{},(0,i.Z)({},n,e)))}})}),[h,_]);return(0,r.jsx)(c.Z,{style:{height:"100%",width:"100%"},children:(0,r.jsx)(v.Z,{title:"Top 1000 Ranking",columns:"FORMATION"===_.group?l.MP:l.nu,data:P,defaultSortAsc:!0,defaultSortField:"id",pagination:!0,subHeaderComponent:x,subHeader:!0})})};var w=function(t,n){if(0===n.length)return t;var e,r=[],a=h(t);try{var u=function(){var t=e.value,a=t.party;if(!a)return{v:[]};var u=a.map((function(t){return t.main.toString()}));n.map((function(t){return u.includes(t)})).includes(!1)||r.push(t)};for(a.s();!(e=a.n()).done;){var o=u();if("object"===typeof o)return o.v}}catch(i){a.e(i)}finally{a.f()}return r},O=function(t,n){var e,r=[],a=h(t);try{var u=function(){var t=e.value,a=t.party;if(!a)return{v:[]};var u=a.map((function(t){return t.main.toString()}));n.map((function(t){return u.includes(t)})).includes(!0)||r.push(t)};for(a.s();!(e=a.n()).done;){var o=u();if("object"===typeof o)return o.v}}catch(i){a.e(i)}finally{a.f()}return r}},578076:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[lang]/ranking-bak",function(){return e(857478)}])}},function(t){t.O(0,[774,272,662,431,757,433,108,139,877,786,796,180,616,269,857,736],(function(){return n=578076,t(t.s=n);var n}));var n=t.O();_N_E=n}]);