(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{291483:function(t,n){"use strict";var e,r,i,o,s,a,u,c,h,f,l,p,d,g,y,v,w,k,b,m,x,O,j=this&&this.__extends||function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),M=this&&this.__classPrivateFieldSet||function(t,n,e){if(!n.has(t))throw new TypeError("attempted to set private field on non-instance");return n.set(t,e),e},P=this&&this.__classPrivateFieldGet||function(t,n){if(!n.has(t))throw new TypeError("attempted to get private field on non-instance");return n.get(t)};n.__esModule=!0,n.default=void 0;var L=function(t){var n=0;t+="x";for(var e=Math.floor(65745979961613.07),r=0;r<t.length;r++)n>e&&(n=Math.floor(n/137)),n=131*n+t.charCodeAt(r);return n},_="0123456789abcdef".split(""),S=[-2147483648,8388608,32768,128],W=[24,16,8,0],Z=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],A=[],E=function(){function t(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),e.set(this,void 0),r.set(this,void 0),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),u.set(this,void 0),c.set(this,void 0),h.set(this,void 0),f.set(this,void 0),l.set(this,void 0),p.set(this,void 0),d.set(this,void 0),g.set(this,void 0),y.set(this,void 0),v.set(this,void 0),w.set(this,0),k.set(this,void 0),this.init(t,n)}return t.prototype.init=function(t,n){n?(A[0]=A[16]=A[1]=A[2]=A[3]=A[4]=A[5]=A[6]=A[7]=A[8]=A[9]=A[10]=A[11]=A[12]=A[13]=A[14]=A[15]=0,M(this,r,A)):M(this,r,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t?(M(this,a,3238371032),M(this,u,914150663),M(this,c,812702999),M(this,h,4144912697),M(this,f,4290775857),M(this,l,1750603025),M(this,p,1694076839),M(this,d,3204075428)):(M(this,a,1779033703),M(this,u,3144134277),M(this,c,1013904242),M(this,h,2773480762),M(this,f,1359893119),M(this,l,2600822924),M(this,p,528734635),M(this,d,1541459225)),M(this,e,M(this,k,M(this,i,M(this,y,0)))),M(this,o,M(this,g,!1)),M(this,s,!0),M(this,v,t)},t.prototype.update=function(t){if(P(this,o))return this;for(var n,s=0,a=(n=t instanceof ArrayBuffer?new Uint8Array(t):t).length,u=P(this,r);s<a;){var c=void 0;if(P(this,g)&&(M(this,g,!1),u[0]=P(this,e),u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),"string"!==typeof n)for(c=P(this,k);s<a&&c<64;++s)u[c>>2]|=n[s]<<W[3&c++];else for(c=P(this,k);s<a&&c<64;++s){var h=n.charCodeAt(s);h<128?u[c>>2]|=h<<W[3&c++]:h<2048?(u[c>>2]|=(192|h>>6)<<W[3&c++],u[c>>2]|=(128|63&h)<<W[3&c++]):h<55296||h>=57344?(u[c>>2]|=(224|h>>12)<<W[3&c++],u[c>>2]|=(128|h>>6&63)<<W[3&c++],u[c>>2]|=(128|63&h)<<W[3&c++]):(h=65536+((1023&h)<<10|1023&n.charCodeAt(++s)),u[c>>2]|=(240|h>>18)<<W[3&c++],u[c>>2]|=(128|h>>12&63)<<W[3&c++],u[c>>2]|=(128|h>>6&63)<<W[3&c++],u[c>>2]|=(128|63&h)<<W[3&c++])}M(this,w,c),M(this,i,P(this,i)+(c-P(this,k))),c>=64?(M(this,e,u[16]),M(this,k,c-64),this.hash(),M(this,g,!0)):M(this,k,c)}return P(this,i)>4294967295&&(M(this,y,P(this,y)+(P(this,i)/4294967296<<0)),M(this,i,P(this,i)%4294967296)),this},t.prototype.finalize=function(){if(!P(this,o)){M(this,o,!0);var t=P(this,r),n=P(this,w);t[16]=P(this,e),t[n>>2]|=S[3&n],M(this,e,t[16]),n>=56&&(P(this,g)||this.hash(),t[0]=P(this,e),t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=P(this,y)<<3|P(this,i)>>>29,t[15]=P(this,i)<<3,this.hash()}},t.prototype.hash=function(){for(var t,n,e,i,o,g,y,w,k=P(this,a),b=P(this,u),m=P(this,c),x=P(this,h),O=P(this,f),j=P(this,l),L=P(this,p),_=P(this,d),S=P(this,r),W=16;W<64;++W)t=((i=S[W-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=S[W-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,S[W]=S[W-16]+t+S[W-7]+n<<0;w=b&m;for(var A=0;A<64;A+=4)P(this,s)?(P(this,v)?(o=300032,_=(i=S[0]-1413257819)-150054599<<0,x=i+24177077<<0):(o=704751109,_=(i=S[0]-210244248)-1521486534<<0,x=i+143694565<<0),M(this,s,!1)):(t=(k>>>2|k<<30)^(k>>>13|k<<19)^(k>>>22|k<<10),e=(o=k&b)^k&m^w,_=x+(i=_+(n=(O>>>6|O<<26)^(O>>>11|O<<21)^(O>>>25|O<<7))+(O&j^~O&L)+Z[A]+S[A])<<0,x=i+(t+e)<<0),t=(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10),e=(g=x&k)^x&b^o,L=m+(i=L+(n=(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7))+(_&O^~_&j)+Z[A+1]+S[A+1])<<0,t=((m=i+(t+e)<<0)>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10),e=(y=m&x)^m&k^g,j=b+(i=j+(n=(L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7))+(L&_^~L&O)+Z[A+2]+S[A+2])<<0,t=((b=i+(t+e)<<0)>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10),e=(w=b&m)^b&x^y,O=k+(i=O+(n=(j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))+(j&L^~j&_)+Z[A+3]+S[A+3])<<0,k=i+(t+e)<<0;M(this,a,P(this,a)+k<<0),M(this,u,P(this,u)+b<<0),M(this,c,P(this,c)+m<<0),M(this,h,P(this,h)+x<<0),M(this,f,P(this,f)+O<<0),M(this,l,P(this,l)+j<<0),M(this,p,P(this,p)+L<<0),M(this,d,P(this,d)+_<<0)},t.prototype.hex=function(){this.finalize();var t=P(this,a),n=P(this,u),e=P(this,c),r=P(this,h),i=P(this,f),o=P(this,l),s=P(this,p),g=P(this,d),y=_[t>>28&15]+_[t>>24&15]+_[t>>20&15]+_[t>>16&15]+_[t>>12&15]+_[t>>8&15]+_[t>>4&15]+_[15&t]+_[n>>28&15]+_[n>>24&15]+_[n>>20&15]+_[n>>16&15]+_[n>>12&15]+_[n>>8&15]+_[n>>4&15]+_[15&n]+_[e>>28&15]+_[e>>24&15]+_[e>>20&15]+_[e>>16&15]+_[e>>12&15]+_[e>>8&15]+_[e>>4&15]+_[15&e]+_[r>>28&15]+_[r>>24&15]+_[r>>20&15]+_[r>>16&15]+_[r>>12&15]+_[r>>8&15]+_[r>>4&15]+_[15&r]+_[i>>28&15]+_[i>>24&15]+_[i>>20&15]+_[i>>16&15]+_[i>>12&15]+_[i>>8&15]+_[i>>4&15]+_[15&i]+_[o>>28&15]+_[o>>24&15]+_[o>>20&15]+_[o>>16&15]+_[o>>12&15]+_[o>>8&15]+_[o>>4&15]+_[15&o]+_[s>>28&15]+_[s>>24&15]+_[s>>20&15]+_[s>>16&15]+_[s>>12&15]+_[s>>8&15]+_[s>>4&15]+_[15&s];return P(this,v)||(y+=_[g>>28&15]+_[g>>24&15]+_[g>>20&15]+_[g>>16&15]+_[g>>12&15]+_[g>>8&15]+_[g>>4&15]+_[15&g]),y},t.prototype.toString=function(){return this.hex()},t.prototype.digest=function(){this.finalize();var t=P(this,a),n=P(this,u),e=P(this,c),r=P(this,h),i=P(this,f),o=P(this,l),s=P(this,p),g=P(this,d),y=[t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return P(this,v)||y.push(g>>24&255,g>>16&255,g>>8&255,255&g),y},t.prototype.array=function(){return this.digest()},t.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(P(this,v)?28:32),n=new DataView(t);return n.setUint32(0,P(this,a)),n.setUint32(4,P(this,u)),n.setUint32(8,P(this,c)),n.setUint32(12,P(this,h)),n.setUint32(16,P(this,f)),n.setUint32(20,P(this,l)),n.setUint32(24,P(this,p)),P(this,v)||n.setUint32(28,P(this,d)),t},t}();e=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,u=new WeakMap,c=new WeakMap,h=new WeakMap,f=new WeakMap,l=new WeakMap,p=new WeakMap,d=new WeakMap,g=new WeakMap,y=new WeakMap,v=new WeakMap,w=new WeakMap,k=new WeakMap;!function(t){function n(n,e,r){void 0===e&&(e=!1),void 0===r&&(r=!1);var i,o=t.call(this,e,r)||this;if(b.set(o,void 0),m.set(o,void 0),x.set(o,void 0),O.set(o,void 0),"string"===typeof n){for(var s=[],a=n.length,u=0,c=0;c<a;++c){var h=n.charCodeAt(c);h<128?s[u++]=h:h<2048?(s[u++]=192|h>>6,s[u++]=128|63&h):h<55296||h>=57344?(s[u++]=224|h>>12,s[u++]=128|h>>6&63,s[u++]=128|63&h):(h=65536+((1023&h)<<10|1023&n.charCodeAt(++c)),s[u++]=240|h>>18,s[u++]=128|h>>12&63,s[u++]=128|h>>6&63,s[u++]=128|63&h)}i=s}else i=n instanceof ArrayBuffer?new Uint8Array(n):n;i.length>64&&(i=new E(e,!0).update(i).array());var f=[],l=[];for(c=0;c<64;++c){var p=i[c]||0;f[c]=92^p,l[c]=54^p}return o.update(l),M(o,x,f),M(o,b,!0),M(o,m,e),M(o,O,r),o}j(n,t),n.prototype.finalize=function(){if(t.prototype.finalize.call(this),P(this,b)){M(this,b,!1);var n=this.array();t.prototype.init.call(this,P(this,m),P(this,O)),this.update(P(this,x)),this.update(n),t.prototype.finalize.call(this)}}}(E);function D(t){var n=new E;return n.update(t),parseInt(n.hex().substring(0,8),16)}b=new WeakMap,m=new WeakMap,x=new WeakMap,O=new WeakMap;var I=function(t,n,e){var r=e<.5?e*(1+n):e+n-e*n,i=2*e-r;return[(t/=360)+1/3,t,t-1/3].map((function(t){return t<0&&t++,t>1&&t--,t=t<1/6?i+6*(r-i)*t:t<.5?r:t<2/3?i+6*(r-i)*(2/3-t):i,Math.round(255*t)}))},N=function(){function t(t){void 0===t&&(t={});var n=[t.lightness,t.saturation].map((function(t){return t=void 0!==t?t:[.35,.5,.65],Array.isArray(t)?t.concat():[t]})),e=n[0],r=n[1];this.L=e,this.S=r,"number"===typeof t.hue&&(t.hue={min:t.hue,max:t.hue}),"object"!==typeof t.hue||Array.isArray(t.hue)||(t.hue=[t.hue]),"undefined"===typeof t.hue&&(t.hue=[]),this.hueRanges=t.hue.map((function(t){return{min:"undefined"===typeof t.min?0:t.min,max:"undefined"===typeof t.max?360:t.max}})),this.hash=D,"function"===typeof t.hash&&(this.hash=t.hash),"bkdr"===t.hash&&(this.hash=L)}return t.prototype.hsl=function(t){var n,e,r=this.hash(t);if(this.hueRanges.length){var i=this.hueRanges[r%this.hueRanges.length];n=r/this.hueRanges.length%727*(i.max-i.min)/727+i.min}else n=r%359;return r=Math.ceil(r/360),e=this.S[r%this.S.length],r=Math.ceil(r/this.S.length),[n,e,this.L[r%this.L.length]]},t.prototype.rgb=function(t){var n=this.hsl(t);return I.apply(this,n)},t.prototype.hex=function(t){return function(t){var n="#";return t.forEach((function(t){t<16&&(n+=0),n+=t.toString(16)})),n}(this.rgb(t))},t}();n.default=N},624260:function(t,n,e){"use strict";var r=e(896156),i=e(887757),o=e.n(i),s=e(692137),a=e(409669),u=e.n(a),c=e(388767),h=e(967964),f=e(126464);function l(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function p(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?l(Object(e),!0).forEach((function(n){(0,r.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}n.Z=function(t){t.lang;var n=h.W.useContainer(),e=(n.mongodb,n.isAuthenticated),r=(0,f.Z)().query,i=r.arena_id,a=r.arena_date,l=(0,c.useQuery)([i,a,e],(0,s.Z)(o().mark((function t(){var n,e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u().get("https://test-vercel-thainq3127.vercel.app/api/arena/".concat(i,"/").concat(a));case 2:if(n=t.sent,!(e=n.data)){t.next=8;break}return t.abrupt("return",e.data);case 8:return t.abrupt("return",[]);case 9:case"end":return t.stop()}}),t)})))),d=l.data;l.isLoading;return{ranking_data:d?d.map((function(t){var n=t.party.map((function(n){return["main","sub1","sub2"].forEach((function(e){if(n[e]>0){var r=t.member.find((function(t){return t.member_id===n[e]}));n["".concat(e,"_lv")]=r.lv,n["".concat(e,"_ex_flg")]=r.ex_flg}})),n})),e=p(p({},t),{},{party:n});return delete e.member,e})):[]}}},33438:function(t,n,e){"use strict";e.r(n),e.d(n,{__N_SSG:function(){return pt},default:function(){return dt}});var r=e(785893),i=e(387329),o=e(896156),s=e(698477),a=e(524509),u=e(973172),c=e(655720),h=e(590577),f=e(748348),l=e(584661);function p(){var t,n,e,r,i,o=0,s=1,a=h.yR,f=!1;function l(n){return null==n||isNaN(n=+n)?i:a(0===e?.5:(n=(r(n)-t)*e,f?Math.max(0,Math.min(1,n)):n))}function p(t){return function(n){var e,r;return arguments.length?([e,r]=n,a=t(e,r),l):[a(0),a(1)]}}return l.domain=function(i){return arguments.length?([o,s]=i,t=r(o=+o),n=r(s=+s),e=t===n?0:1/(n-t),l):[o,s]},l.clamp=function(t){return arguments.length?(f=!!t,l):f},l.interpolator=function(t){return arguments.length?(a=t,l):a},l.range=p(u.Z),l.rangeRound=p(c.Z),l.unknown=function(t){return arguments.length?(i=t,l):i},function(i){return r=i,t=i(o),n=i(s),e=t===n?0:1/(n-t),l}}function d(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}var g=e(944087),y=e(216372);const v=Math.PI/180,w=180/Math.PI;var k=-.14861,b=1.78277,m=-.29227,x=-.90649,O=1.97294,j=O*x,M=O*b,P=b*m-x*k;function L(t){if(t instanceof S)return new S(t.h,t.s,t.l,t.opacity);t instanceof y.Ss||(t=(0,y.SU)(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(P*r+j*n-M*e)/(P+j-M),o=r-i,s=(O*(e-i)-m*o)/x,a=Math.sqrt(s*s+o*o)/(O*i*(1-i)),u=a?Math.atan2(s,o)*w-120:NaN;return new S(u<0?u+360:u,a,i,t.opacity)}function _(t,n,e,r){return 1===arguments.length?L(t):new S(t,n,e,null==r?1:r)}function S(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}(0,g.Z)(S,_,(0,g.l)(y.Il,{brighter:function(t){return t=null==t?y.J5:Math.pow(y.J5,t),new S(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?y.xV:Math.pow(y.xV,t),new S(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*v,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new y.Ss(255*(n+e*(k*r+b*i)),255*(n+e*(m*r+x*i)),255*(n+e*(O*r)),this.opacity)}}));var W=e(585910);function Z(t){return function n(e){function r(n,r){var i=t((n=_(n)).h,(r=_(r)).h),o=(0,W.ZP)(n.s,r.s),s=(0,W.ZP)(n.l,r.l),a=(0,W.ZP)(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=s(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}Z(W.wx);var A=Z(W.ZP),E=(A(_(-100,.75,.35),_(80,1.5,.8)),A(_(260,.75,.35),_(80,1.5,.8)),_());var D=e(667294),I=e(926802),N=e(781253),z=e(294184),R=e.n(z),U=e(290155);function C(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e<r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function F(t,n){return t.sourceLinks.length?t.depth:n-1}function T(t){return function(){return t}}function V(t,n){return G(t.source,n.source)||t.index-n.index}function q(t,n){return G(t.target,n.target)||t.index-n.index}function G(t,n){return t.y0-n.y0}function B(t){return t.value}function J(t){return t.index}function Q(t){return t.nodes}function X(t){return t.links}function H(t,n){const e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function K({nodes:t}){for(const n of t){let t=n.y0,e=t;for(const r of n.sourceLinks)r.y0=t+r.width/2,t+=r.width;for(const r of n.targetLinks)r.y1=e+r.width/2,e+=r.width}}function Y(){let t,n,e,r=0,i=0,o=1,s=1,a=24,u=8,c=J,h=F,f=Q,l=X,p=6;function d(){const t={nodes:f.apply(null,arguments),links:l.apply(null,arguments)};return g(t),y(t),v(t),w(t),k(t),K(t),t}function g({nodes:t,links:n}){for(const[e,i]of t.entries())i.index=e,i.sourceLinks=[],i.targetLinks=[];const r=new Map(t.map(((n,e)=>[c(n,e,t),n])));for(const[e,i]of n.entries()){i.index=e;let{source:t,target:n}=i;"object"!==typeof t&&(t=i.source=H(r,t)),"object"!==typeof n&&(n=i.target=H(r,n)),t.sourceLinks.push(i),n.targetLinks.push(i)}if(null!=e)for(const{sourceLinks:i,targetLinks:o}of t)i.sort(e),o.sort(e)}function y({nodes:t}){for(const n of t)n.value=void 0===n.fixedValue?Math.max((0,U.Z)(n.sourceLinks,B),(0,U.Z)(n.targetLinks,B)):n.fixedValue}function v({nodes:t}){const n=t.length;let e=new Set(t),r=new Set,i=0;for(;e.size;){for(const t of e){t.depth=i;for(const{target:n}of t.sourceLinks)r.add(n)}if(++i>n)throw new Error("circular link");e=r,r=new Set}}function w({nodes:t}){const n=t.length;let e=new Set(t),r=new Set,i=0;for(;e.size;){for(const t of e){t.height=i;for(const{source:n}of t.targetLinks)r.add(n)}if(++i>n)throw new Error("circular link");e=r,r=new Set}}function k(e){const c=function({nodes:t}){const e=C(t,(t=>t.depth))+1,i=(o-r-a)/(e-1),s=new Array(e);for(const n of t){const t=Math.max(0,Math.min(e-1,Math.floor(h.call(null,n,e))));n.layer=t,n.x0=r+t*i,n.x1=n.x0+a,s[t]?s[t].push(n):s[t]=[n]}if(n)for(const r of s)r.sort(n);return s}(e);t=Math.min(u,(s-i)/(C(c,(t=>t.length))-1)),function(n){const e=function(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e>r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}(n,(n=>(s-i-(n.length-1)*t)/(0,U.Z)(n,B)));for(const r of n){let n=i;for(const i of r){i.y0=n,i.y1=n+i.value*e,n=i.y1+t;for(const t of i.sourceLinks)t.width=t.value*e}n=(s-n+t)/(r.length+1);for(let t=0;t<r.length;++t){const e=r[t];e.y0+=n*(t+1),e.y1+=n*(t+1)}P(r)}}(c);for(let t=0;t<p;++t){const n=Math.pow(.99,t),e=Math.max(1-n,(t+1)/p);m(c,n,e),b(c,n,e)}}function b(t,e,r){for(let i=1,o=t.length;i<o;++i){const o=t[i];for(const t of o){let n=0,r=0;for(const{source:e,value:o}of t.targetLinks){let i=o*(t.layer-e.layer);n+=L(e,t)*i,r+=i}if(!(r>0))continue;let i=(n/r-t.y0)*e;t.y0+=i,t.y1+=i,M(t)}void 0===n&&o.sort(G),x(o,r)}}function m(t,e,r){for(let i=t.length-2;i>=0;--i){const o=t[i];for(const t of o){let n=0,r=0;for(const{target:e,value:o}of t.sourceLinks){let i=o*(e.layer-t.layer);n+=_(t,e)*i,r+=i}if(!(r>0))continue;let i=(n/r-t.y0)*e;t.y0+=i,t.y1+=i,M(t)}void 0===n&&o.sort(G),x(o,r)}}function x(n,e){const r=n.length>>1,o=n[r];j(n,o.y0-t,r-1,e),O(n,o.y1+t,r+1,e),j(n,s,n.length-1,e),O(n,i,0,e)}function O(n,e,r,i){for(;r<n.length;++r){const o=n[r],s=(e-o.y0)*i;s>1e-6&&(o.y0+=s,o.y1+=s),e=o.y1+t}}function j(n,e,r,i){for(;r>=0;--r){const o=n[r],s=(o.y1-e)*i;s>1e-6&&(o.y0-=s,o.y1-=s),e=o.y0-t}}function M({sourceLinks:t,targetLinks:n}){if(void 0===e){for(const{source:{sourceLinks:t}}of n)t.sort(q);for(const{target:{targetLinks:n}}of t)n.sort(V)}}function P(t){if(void 0===e)for(const{sourceLinks:n,targetLinks:e}of t)n.sort(q),e.sort(V)}function L(n,e){let r=n.y0-(n.sourceLinks.length-1)*t/2;for(const{target:i,width:o}of n.sourceLinks){if(i===e)break;r+=o+t}for(const{source:t,width:i}of e.targetLinks){if(t===n)break;r-=i}return r}function _(n,e){let r=e.y0-(e.targetLinks.length-1)*t/2;for(const{source:i,width:o}of e.targetLinks){if(i===n)break;r+=o+t}for(const{target:t,width:i}of n.sourceLinks){if(t===e)break;r-=i}return r}return d.update=function(t){return K(t),t},d.nodeId=function(t){return arguments.length?(c="function"===typeof t?t:T(t),d):c},d.nodeAlign=function(t){return arguments.length?(h="function"===typeof t?t:T(t),d):h},d.nodeSort=function(t){return arguments.length?(n=t,d):n},d.nodeWidth=function(t){return arguments.length?(a=+t,d):a},d.nodePadding=function(n){return arguments.length?(u=t=+n,d):u},d.nodes=function(t){return arguments.length?(f="function"===typeof t?t:T(t),d):f},d.links=function(t){return arguments.length?(l="function"===typeof t?t:T(t),d):l},d.linkSort=function(t){return arguments.length?(e=t,d):e},d.size=function(t){return arguments.length?(r=i=0,o=+t[0],s=+t[1],d):[o-r,s-i]},d.extent=function(t){return arguments.length?(r=+t[0][0],o=+t[1][0],i=+t[0][1],s=+t[1][1],d):[[r,i],[o,s]]},d.iterations=function(t){return arguments.length?(p=+t,d):p},d}var $=e(45697),tt=e.n($);function nt(t){var n=t.node,e=void 0===n?{x:0,y:0,r:15}:n;return D.createElement("circle",{cx:e.x,cy:e.y,r:e.r||15,fill:"#21D4FD"})}function et(t){var n=t.top,e=t.left,i=t.className,o=t.data,a=t.size,u=t.nodeId,c=t.nodeAlign,h=t.nodeWidth,f=t.nodePadding,l=(t.nodePaddingRatio,t.extent),p=t.iterations,d=t.circularLinkGap,g=t.children,y=(t.nodeComponent,(0,N.Z)(t,["top","left","className","data","size","nodeId","nodeAlign","nodeWidth","nodePadding","nodePaddingRatio","extent","iterations","circularLinkGap","children","nodeComponent"]),Y());a&&y.size(a),u&&y.nodeId(u),c&&y.nodeAlign(c),h&&y.nodeWidth(h),f&&y.nodePadding(f),l&&y.extent(l),p&&y.iterations(p),d&&y.circularLinkGap(d);var v=y(o);if(console.log("sankeyData",v),g)return(0,r.jsx)(s.Z,{top:n,left:e,className:R()("vx-sankey",i),children:g({data:v})})}nt.propTypes={node:tt().shape({x:tt().number.isRequired,y:tt().number.isRequired,r:tt().number})};var rt=e(496486);function it(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function ot(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?it(Object(e),!0).forEach((function(n){(0,o.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):it(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var st=function(t,n){var e=[];return t.forEach((function(t,r){var i=n[r],o=e.findIndex((function(n){return n.source===t&&n.target===i}));-1===o?e.push({source:t,target:i,value:1}):e[o]=ot(ot({},e[o]),{},{value:e[o].value+1})})),e},at=e(624260),ut=e(291483);function ct(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function ht(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?ct(Object(e),!0).forEach((function(n){(0,o.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ct(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var ft=new(e.n(ut)()),lt=(function t(){var n=(0,l.Q)(p()(h.yR));return n.copy=function(){return d(n,t())},f.O.apply(n,arguments)}((function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return E.h=360*t-100,E.s=1.5-1.5*n,E.l=.8-.9*n,E+""})),(0,a.h5h)().source((function(t){return[t.source.x1,t.y0]})).target((function(t){return[t.target.x0,t.y1]}))),pt=!0,dt=function(){var t=(0,D.useState)({highlightLinkIndexes:[]}),n=t[0],o=t[1],a=(0,at.Z)({lang:"jp"}).ranking_data,u=function(t){var n={nodes:[],links:[]};return(0,rt.range)(4).forEach((function(e){var r,o,s=st(t.map((function(t){return t[e]})),t.map((function(t){return t[e+1]})));0===e&&(o=n.nodes).push.apply(o,(0,i.Z)(s.map((function(t){return{id:t.source,group:e}})))),(r=n.nodes).push.apply(r,(0,i.Z)(s.map((function(t){return{id:t.target,group:e+1}})))),s.forEach((function(t){var r=n.nodes.findIndex((function(n){return n.id===t.source&&n.group===e})),i=n.nodes.findIndex((function(n){return n.id===t.target&&n.group===e+1}));n.links.push({source:r,target:i,value:t.value})}))})),n}(a.map((function(t){return t.party.map((function(t){return t.main.toString()}))})));return u=ht(ht({},u),{},{nodes:u.nodes.map((function(t){return{name:t.id,group:t.group}}))}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.LR,{}),a.length>0&&(0,r.jsx)("svg",{width:1200,height:1080,children:(0,r.jsx)(et,{top:0,left:0,data:u,size:[1200,1080],nodeWidth:15,nodePadding:.01,nodeAlign:function(t){return t.group},extent:[[0,0],[1120,1074]],children:function(t){var a=t.data;return(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(s.Z,{children:a.links.map((function(t,e){return(0,r.jsx)("path",{d:lt(t),stroke:n.highlightLinkIndexes.includes(e)?"red":"black",strokeWidth:Math.max(1,t.width),opacity:n.highlightLinkIndexes.includes(e)?.5:.15,fill:"none",onMouseOver:function(t){o({highlightLinkIndexes:[e]})},onMouseOut:function(t){o({highlightLinkIndexes:[]})}},"link-".concat(e))}))}),a.nodes.map((function(t,a){return(0,r.jsxs)(s.Z,{top:t.y0,left:t.x0,children:[(0,r.jsx)("rect",{id:"rect-".concat(a),width:t.x1-t.x0,height:t.y1-t.y0,fill:ft.hex(t.name),opacity:1,strokeWidth:0,onMouseOver:function(n){o({highlightLinkIndexes:[].concat((0,i.Z)(t.sourceLinks.map((function(t){return t.index}))),(0,i.Z)(t.targetLinks.map((function(t){return t.index}))))})},onMouseOut:function(t){o({highlightLinkIndexes:[]})}}),(t.y1-t.y0>80||[].concat((0,i.Z)(t.sourceLinks),(0,i.Z)(t.targetLinks)).filter((function(t){return n.highlightLinkIndexes.includes(t.index)})).length>0)&&"0"!==t.name&&(0,r.jsx)("image",{href:e(664391)("./".concat(t.name,".png")),width:80,height:80,y:(t.y1-t.y0)/2-40,x:15})]},"node-".concat(a))}))]})}})})]})}},967964:function(t,n,e){"use strict";e.d(n,{W:function(){return h}});var r=e(896156),i=e(667294),o=e(209566),s=e(457186);function a(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function u(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?a(Object(e),!0).forEach((function(n){(0,r.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var c={id:"konofan-data-tfxaz"},h=(0,s.f)((function(){var t=(0,i.useState)({isAuthenticated:!1}),n=t[0],e=t[1],r=new o.gV(c),s=o.cN.anonymous();return(0,i.useEffect)((function(){r.logIn(s).then((function(t){e(u(u({},n),{},{isAuthenticated:!0}))}))}),[]),{mongodb:n.isAuthenticated&&r.currentUser.mongoClient("mongodb-atlas"),callFunction:function(t){for(var n,e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return(n=r.currentUser).callFunction.apply(n,[t].concat(i))},isAuthenticated:n.isAuthenticated}}))},155655:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[lang]/parrallel-set",function(){return e(33438)}])},811163:function(t,n,e){t.exports=e(672441)}},function(t){t.O(0,[774,662,272,431,433,679,900,720,969,767,269,434,270,202,661,225,675,802],(function(){return n=155655,t(t.s=n);var n}));var n=t.O();_N_E=n}]);