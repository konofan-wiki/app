(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{418463:function(t,e,n){"use strict";var r=n(722122),a=n(781253),o=n(667294),u=(n(45697),n(386010)),i=n(79895),c=n(14670),s=o.forwardRef((function(t,e){var n=t.classes,c=t.className,s=t.raised,l=void 0!==s&&s,f=(0,a.Z)(t,["classes","className","raised"]);return o.createElement(i.Z,(0,r.Z)({className:(0,u.Z)(n.root,c),elevation:l?8:1,ref:e},f))}));e.Z=(0,c.Z)({root:{overflow:"hidden"}},{name:"MuiCard"})(s)},885515:function(t,e,n){"use strict";var r=n(785893),a=n(896156),o=n(781253),u=n(811163),i=n(390044);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,a.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.Z=function(t){var e=t.keyField,n=t.data,a=t.paginationDefaultPage,c=t.expandableRowExpanded,l=(0,o.Z)(t,["keyField","data","paginationDefaultPage","expandableRowExpanded"]),f=(0,u.useRouter)(),d=f.query,p=f.push,g=f.route,b=function(t){for(var e=d,n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];t[a]?e[a]=t[a]:delete e[a]}p("".concat(g,"?").concat(Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")),null,{shallow:!0})},y=n.map((function(t,e){return s(s({},t),{},{__id:e})}));return(0,r.jsx)(i.ZP,s({pagination:!0,expandableRowExpanded:c||function(t){return"string"===typeof d.row&&t.__id===parseInt(d.row)},paginationDefaultPage:a||("string"===typeof d.page&&y.length>0?parseInt(d.page):1),onRowExpandToggled:function(t,e){b({row:t?e.__id:null})},keyField:e,dense:!1,customStyles:{header:{style:{backgroundColor:"transparent"}},table:{style:{backgroundColor:"transparent"}},cells:{style:{backgroundColor:"transparent"}},tableWrapper:{style:{backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"},highlightOnHoverStyle:{backgroundColor:"#ffffff85"},stripedStyle:{backgroundColor:"#fafafa5c"}},contextMenu:{style:{backgroundColor:"transparent"},activeStyle:{backgroundColor:"#ffffff85"}},subHeader:{style:{backgroundColor:"transparent"}},pagination:{style:{backgroundColor:"transparent"}},head:{style:{backgroundColor:"transparent"}},headRow:{style:{backgroundColor:"transparent"}},expanderButton:{style:{backgroundColor:"transparent"}},expanderRow:{style:{backgroundColor:"#ffffff85"}},noData:{style:{backgroundColor:"#ffffff85"}},headCells:{style:{backgroundColor:"transparent"}},progress:{style:{backgroundColor:"transparent"}}},onSort:function(t,e){b({sort:"".concat(t.name,":").concat(e)})},striped:!0,onChangePage:function(t,e){y.length>0&&b({page:t})},onChangeRowsPerPage:function(t,e){b({page:e,rowsPerPage:t})},paginationRowsPerPageOptions:[20],paginationPerPage:20,data:y},l))}},857478:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return m}});var r=n(785893),a=n(887757),o=n.n(a),u=n(692137),i=n(896156),c=n(418463),s=n(409669),l=n.n(s),f=n(926802),d=n(667294),p=n(388767),g=n(885515),b=n(492481);n(815940);function y(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,i=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){i=!0,o=t},f:function(){try{u||null==n.return||n.return()}finally{if(i)throw o}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m=!0;e.default=function(t){var e=b.Z.useContainer(),n=e.included,a=e.excluded,s=(0,d.useState)(""),y=s[0],h=s[1],v=(0,d.useState)({arena_id:null,date:null,dateList:[],arena_ids:[],group:null}),m=v[0],j=v[1];(0,d.useEffect)((function(){"jp"===t.lang&&l().get("https://raw.githubusercontent.com/thainq3127/kono-data/master/ranking/metadata.json").then((function(t){var e=t.data;j(w(w({},m),{},{arena_ids:e.arena_ids,arena_id:e.arena_ids[e.arena_ids.length-1]}))}))}),[]),(0,d.useEffect)((function(){"jp"===t.lang&&m.arena_id&&l().get("https://raw.githubusercontent.com/thainq3127/kono-data/master/ranking/".concat(m.arena_id,"/metadata.json")).then((function(t){var e=t.data;j(w(w({},m),{},{dateList:e.fileList,date:e.fileList[e.fileList.length-1]}))}))}),[m.arena_id]);var _=(0,p.useQuery)("arenalist",(0,u.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("tw"!==t.lang){e.next=2;break}return e.abrupt("return",[]);case 2:return e.prev=2,e.next=5,l().get("https://raw.githubusercontent.com/thainq3127/kono-data/master/ranking/".concat(m.arena_id,"/").concat(m.date,"-parsed.json"));case 5:return e.abrupt("return",e.sent.data);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))),P=_.data,C=_.refetch;(0,d.useEffect)((function(){m.arena_id&&m.date&&C()}),[m.date]);var S=P?""===y?P:P.filter((function(t){return t.name.toLowerCase().includes(y.toLowerCase())})):[];S=O(S,n),S=k(S,a),"FORMATION"===m.group&&(S=(0,f.$U)(S));var x=(0,d.useMemo)((function(){return(0,r.jsx)(f.LR,{onFilter:function(t){return h(t.target.value)},filterText:y,option:m,onSetOption:function(t){var e=t.target.name,n=t.target.value;j(w(w({},m),{},(0,i.Z)({},e,n)))}})}),[y,m]);return(0,r.jsx)(c.Z,{style:{height:"100%",width:"100%"},children:(0,r.jsx)(g.Z,{title:"Top 1000 Ranking",columns:"FORMATION"===m.group?f.MP:f.nu,data:S,defaultSortAsc:!0,defaultSortField:"id",pagination:!0,subHeaderComponent:x,subHeader:!0})})};var O=function(t,e){if(0===e.length)return t;var n,r=[],a=y(t);try{var o=function(){var t=n.value,a=t.party;if(!a)return{v:[]};var o=a.map((function(t){return t.main.toString()}));e.map((function(t){return o.includes(t)})).includes(!1)||r.push(t)};for(a.s();!(n=a.n()).done;){var u=o();if("object"===typeof u)return u.v}}catch(i){a.e(i)}finally{a.f()}return r},k=function(t,e){var n,r=[],a=y(t);try{var o=function(){var t=n.value,a=t.party;if(!a)return{v:[]};var o=a.map((function(t){return t.main.toString()}));e.map((function(t){return o.includes(t)})).includes(!0)||r.push(t)};for(a.s();!(n=a.n()).done;){var u=o();if("object"===typeof u)return u.v}}catch(i){a.e(i)}finally{a.f()}return r}},578076:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[lang]/ranking-bak",function(){return n(857478)}])}},function(t){t.O(0,[662,44,969,269,202,391,675,802,774,888,179],(function(){return e=578076,t(t.s=e);var e}));var e=t.O();_N_E=e}]);